############################################
# SERVING PARAMETERS
############################################
# "http" or "task" or "websocket"
SERVICE_MODE=http

# Below: used when SERVICE_MODE=task
SERVICE_NAME=stt
SERVICES_BROKER=redis://172.17.0.1:6379
BROKER_PASS=

############################################
# STT MODELING PARAMETERS
############################################

# MODEL=linagora/linto_stt_fr_fastconformer
# ARCHITECTURE=hybrid_bpe
# PUNCTUATION_MODEL=/opt/models/lm/fr.24000

# MODEL=nvidia/stt_fr_fastconformer_hybrid_large_pc
# ARCHITECTURE=hybrid_bpe

MODEL=nvidia/parakeet-rnnt-0.6b
ARCHITECTURE=rnnt_bpe

# These models can't handle files that are too long, so it must be split if too long
# 480s=8min. A file longer than that will be split into smaller parts. This value depends on your VRAM/RAM amount
LONG_FILE_THRESHOLD=480
# 360s=6min. Size of the parts into which the audio is splitted. This value depends on your VRAM/RAM amount
LONG_FILE_CHUNK_LEN=360
# 10s of context at the begining and end of each chunk
LONG_FILE_CHUNK_CONTEXT_LEN=10

VAD=false

############################################
# EFFICIENCY PARAMETERS
############################################

# Device to use. It can be "cuda" to force/check GPU, "cpu" to force computation on CPU, or a specific GPU ("cuda:0", "cuda:1", ...)
DEVICE=cpu

# NVIDIA_VISIBLE_DEVICES=0
# NVIDIA_DRIVER_CAPABILITIES=all
# CUDA_DEVICE_ORDER=PCI_BUS_ID
# CUDA_VISIBLE_DEVICES=0

# Number of threads per worker when running on CPU
NUM_THREADS=4

# Number of workers minus one (all except from the main one)
CONCURRENCY=2
